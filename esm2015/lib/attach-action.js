import { Action } from '@ngxs/store';
/**
 * This key is used to retrieve static metadatas on state classes.
 * This constant is taken from the core codebase
 */
const META_OPTIONS_KEY = 'NGXS_OPTIONS_META';
export function attachAction(storeClass, action, fn, options) {
    if (!storeClass[META_OPTIONS_KEY]) {
        throw new Error('storeClass is not a valid NGXS Store');
    }
    const methodName = getActionMethodName(action);
    storeClass.prototype[methodName] = function (_state, _action) {
        return fn(_state, _action);
    };
    Action(action, options)({ constructor: storeClass }, methodName, null);
}
const getActionMethodName = (action) => {
    const actionName = action.type.replace(/[^a-zA-Z0-9]+/g, '');
    return `${actionName}`;
};
const ɵ0 = getActionMethodName;
export { ɵ0 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0YWNoLWFjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvYXR0YWNoLWFjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUEyQyxNQUFNLGFBQWEsQ0FBQztBQUU5RTs7O0dBR0c7QUFDSCxNQUFNLGdCQUFnQixHQUFHLG1CQUFtQixDQUFDO0FBRTdDLE1BQU0sVUFBVSxZQUFZLENBQzFCLFVBQWUsRUFDZixNQUFrQixFQUNsQixFQUE0QyxFQUM1QyxPQUF1QjtJQUV2QixJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7UUFDakMsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO0tBQ3pEO0lBRUQsTUFBTSxVQUFVLEdBQUcsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFL0MsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxVQUFTLE1BQVcsRUFBRSxPQUFZO1FBQ25FLE9BQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM3QixDQUFDLENBQUM7SUFFRixNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN6RSxDQUFDO0FBRUQsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLE1BQWtCLEVBQUUsRUFBRTtJQUNqRCxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM3RCxPQUFPLEdBQUcsVUFBVSxFQUFFLENBQUM7QUFDekIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aW9uLCBBY3Rpb25PcHRpb25zLCBBY3Rpb25UeXBlLCBTdGF0ZUNvbnRleHQgfSBmcm9tICdAbmd4cy9zdG9yZSc7XG5cbi8qKlxuICogVGhpcyBrZXkgaXMgdXNlZCB0byByZXRyaWV2ZSBzdGF0aWMgbWV0YWRhdGFzIG9uIHN0YXRlIGNsYXNzZXMuXG4gKiBUaGlzIGNvbnN0YW50IGlzIHRha2VuIGZyb20gdGhlIGNvcmUgY29kZWJhc2VcbiAqL1xuY29uc3QgTUVUQV9PUFRJT05TX0tFWSA9ICdOR1hTX09QVElPTlNfTUVUQSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hBY3Rpb248UywgQT4oXG4gIHN0b3JlQ2xhc3M6IGFueSxcbiAgYWN0aW9uOiBBY3Rpb25UeXBlLFxuICBmbjogKGN0eDogU3RhdGVDb250ZXh0PFM+LCBhY3Rpb246IEEpID0+IGFueSxcbiAgb3B0aW9ucz86IEFjdGlvbk9wdGlvbnNcbik6IHZvaWQge1xuICBpZiAoIXN0b3JlQ2xhc3NbTUVUQV9PUFRJT05TX0tFWV0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0b3JlQ2xhc3MgaXMgbm90IGEgdmFsaWQgTkdYUyBTdG9yZScpO1xuICB9XG5cbiAgY29uc3QgbWV0aG9kTmFtZSA9IGdldEFjdGlvbk1ldGhvZE5hbWUoYWN0aW9uKTtcblxuICBzdG9yZUNsYXNzLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKF9zdGF0ZTogYW55LCBfYWN0aW9uOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiBmbihfc3RhdGUsIF9hY3Rpb24pO1xuICB9O1xuXG4gIEFjdGlvbihhY3Rpb24sIG9wdGlvbnMpKHsgY29uc3RydWN0b3I6IHN0b3JlQ2xhc3MgfSwgbWV0aG9kTmFtZSwgbnVsbCk7XG59XG5cbmNvbnN0IGdldEFjdGlvbk1ldGhvZE5hbWUgPSAoYWN0aW9uOiBBY3Rpb25UeXBlKSA9PiB7XG4gIGNvbnN0IGFjdGlvbk5hbWUgPSBhY3Rpb24udHlwZS5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csICcnKTtcbiAgcmV0dXJuIGAke2FjdGlvbk5hbWV9YDtcbn07XG4iXX0=